<div class="min-h-screen bg-background">
  <div class="container mx-auto px-4 py-8 max-w-6xl">
    <div class="flex gap-8">
      <!-- Sidebar -->
      <aside class="w-64 flex-shrink-0">
        <nav class="space-y-1">
          <button
            (click)="switchTab('profile')"
            [class.bg-muted]="activeTab() === 'profile'"
            class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-muted/40 transition-colors text-left"
          >
            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span class="text-sm font-medium">Profile</span>
          </button>

          <button
            (click)="switchTab('security')"
            [class.bg-muted]="activeTab() === 'security'"
            class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-muted/40 transition-colors text-left"
          >
            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
            </svg>
            <span class="text-sm font-medium">Account Security</span>
          </button>

          <button
            (click)="switchTab('notifications')"
            [class.bg-muted]="activeTab() === 'notifications'"
            class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-muted/40 transition-colors text-left"
          >
            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
            </svg>
            <span class="text-sm font-medium">Notifications</span>
          </button>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="flex-1">
        <!-- Profile Tab -->
        <div *ngIf="activeTab() === 'profile'" class="bg-card rounded-lg border border-border p-8">
          <h1 class="text-2xl font-bold text-foreground mb-2">Profile</h1>
          
          <div class="space-y-8 mt-8">
            <!-- About me Section -->
            <div>
              <h2 class="text-lg font-semibold text-foreground mb-6">About me</h2>

              <!-- Avatar Section -->
              <div class="mb-6">
                <label class="text-sm font-medium text-foreground mb-3 block">Your Avatar</label>
                <div class="flex items-center space-x-4">
                  <div class="w-20 h-20 bg-primary rounded-full flex items-center justify-center">
                    <span class="text-primary-foreground font-bold text-2xl">
                      {{ (authService.currentUser()?.name || 'U').charAt(0).toUpperCase() }}
                    </span>
                  </div>
                  <div class="flex space-x-3">
                    <button
                      (click)="onEditAvatar()"
                      class="px-4 py-2 bg-primary text-primary-foreground rounded-md text-sm font-medium hover:bg-primary/90 transition-colors"
                    >
                      Edit
                    </button>
                    <button
                      (click)="onGetAvatarFrame()"
                      class="px-4 py-2 text-primary hover:underline text-sm font-medium"
                    >
                      Get Avatar Frame â€º
                    </button>
                  </div>
                </div>
              </div>

              <!-- Display Name -->
              <div class="mb-6">
                <label class="text-sm font-medium text-foreground mb-2 block">Display name</label>
                <div class="relative">
                  <input
                    type="text"
                    [(ngModel)]="displayName"
                    maxlength="20"
                    class="w-full px-4 py-3 bg-input border border-border rounded-md text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"
                    placeholder="Enter display name"
                  />
                  <span class="absolute right-4 top-1/2 -translate-y-1/2 text-sm text-muted-foreground">
                    {{ displayName().length }}/20
                  </span>
                </div>
              </div>

              <!-- Username -->
              <div class="mb-6">
                <label class="text-sm font-medium text-foreground mb-2 block">Username</label>
                <div class="relative">
                  <input
                    type="text"
                    [(ngModel)]="username"
                    maxlength="20"
                    class="w-full px-4 py-3 bg-input border border-border rounded-md text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"
                    placeholder="Enter username"
                  />
                  <span class="absolute right-4 top-1/2 -translate-y-1/2 text-sm text-muted-foreground">
                    {{ username().length }}/20
                  </span>
                </div>
                <p class="text-xs text-muted-foreground mt-2">* Username can only be changed once per 7 days</p>
              </div>

              <!-- Bio -->
              <div class="mb-6">
                <label class="text-sm font-medium text-foreground mb-2 block">Bio</label>
                <div class="relative">
                  <textarea
                    [(ngModel)]="bio"
                    maxlength="250"
                    rows="4"
                    class="w-full px-4 py-3 bg-input border border-border rounded-md text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring resize-none"
                    placeholder="A brief introduction about yourself"
                  ></textarea>
                  <span class="absolute right-4 bottom-3 text-sm text-muted-foreground">
                    {{ bio().length }}/250
                  </span>
                </div>
              </div>

              <!-- Birthday -->
              <div class="mb-6">
                <label class="text-sm font-medium text-foreground mb-2 block">Birthday</label>
                <input
                  type="date"
                  [(ngModel)]="birthday"
                  class="w-full px-4 py-3 bg-input border border-border rounded-md text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"
                  placeholder="Birthday"
                />
              </div>

              <!-- Website -->
              <div class="mb-6">
                <label class="text-sm font-medium text-foreground mb-2 block">Website</label>
                <div class="relative">
                  <input
                    type="url"
                    [(ngModel)]="website"
                    maxlength="100"
                    class="w-full px-4 py-3 bg-input border border-border rounded-md text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"
                    placeholder="Add your website"
                  />
                  <span class="absolute right-4 top-1/2 -translate-y-1/2 text-sm text-muted-foreground">
                    {{ website().length }}/100
                  </span>
                </div>
              </div>

              <!-- Save Button -->
              <button
                (click)="onSave()"
                class="px-6 py-2.5 bg-primary text-primary-foreground rounded-md font-medium hover:bg-primary/90 transition-colors"
              >
                Save
              </button>
            </div>
          </div>
        </div>

        <!-- Account Security Tab -->
        <div *ngIf="activeTab() === 'security'" class="bg-card rounded-lg border border-border p-8">
          <h1 class="text-2xl font-bold text-foreground mb-2">Account Security</h1>
          <p class="text-muted-foreground">Manage your account security settings</p>
          <!-- TODO: Add security settings content -->
        </div>

        <!-- Notifications Tab -->
        <div *ngIf="activeTab() === 'notifications'" class="bg-card rounded-lg border border-border p-8">
          <h1 class="text-2xl font-bold text-foreground mb-2">Notifications</h1>
          <p class="text-muted-foreground">Manage your notification preferences</p>
          <!-- TODO: Add notifications content -->
        </div>
      </main>
    </div>
  </div>
</div>
